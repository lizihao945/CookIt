<html lang="en">

<head>
    <title>{% block title %}CookIt{% endblock %}</title>
    <meta charset="utf-8">

    {% load staticfiles %}
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "css/fontawesome-all.min.css" %}" rel="stylesheet">
    <link href="{% static "css/recipes.css" %}" rel="stylesheet">
    {% block extra_head %}{% endblock %}
</head>

<body>
    {% block navbar %}{% endblock %}
    <div class="container" style="margin-top: 4rem;">
        <div class="row">
            <div class="col-sm-8">
                {% block content %}{% endblock %}
            </div>

            <aside class="col-sm-4">
                <div class="navbar-right">
                    <div class="container">
                        {% if not user.is_anonymous %}
                            {% include 'recipes/profile.html' %}
                        {% endif %}
                    </div>
                </div>
            </aside>
        </div>
    </div>
    <script src="{% static "js/jquery-3.1.1.min.js" %}"></script>
    <script src="{% static "js/popper.min.js" %}"></script>
    <script src="{% static "js/bootstrap.min.js" %}"></script>

    {% if not user.is_anonymous %}

        <script>
        $has_expanded = false;
        $('textarea.post-recipe-trigger')
            .focus(function () {
                if (!$has_expanded) {
                    $(this).animate({ height: "6em" }, 200);
                    $(this).attr("placeholder", "What's the steps?");
                    $('div.instructions-hide').fadeIn(100);
                    $('textarea.post-recipe-hide').fadeIn(100);
                    $('button.post-recipe').fadeIn(100);
                    $('div.post-recipe').animate({ height: "25em" }, 200);

                    $has_expanded = true;
                }
            });
        $('document').ready(function () {
            $('textarea.post-recipe').animate({ height: "3em" }, 0);
            $('div.instructions-hide').hide();
            $('textarea.post-recipe-hide').hide();
            $('button.post-recipe').hide();
            $('div.post-recipe').animate({ height: "6em" }, 0);

            $has_expanded = false
        });
        </script>

    {% else %}

        <script>
        $has_expanded = false;
        $('textarea.post-recipe-trigger')
            .focus(function () {
                if (!$has_expanded) {
                    $(this).animate({ height: "6em" }, 200);
                    $(this).attr("placeholder", "What's the steps?");
                    $('div.instructions-hide').fadeIn(100);
                    $('textarea.post-recipe-hide').fadeIn(100);
                    $('a.post-recipe').fadeIn(100);
                    $('div.post-recipe').animate({ height: "25em" }, 200);

                    $has_expanded = true;
                }
            });
        $('document').ready(function () {
            $('textarea.post-recipe').animate({ height: "3em" }, 0);
            $('div.instructions-hide').hide();
            $('textarea.post-recipe-hide').hide();
            $('a.post-recipe').hide();
            $('div.post-recipe').animate({ height: "6em" }, 0);

            $has_expanded = false
        });

        $(function () {
          $('[data-toggle="tooltip"]').tooltip()
        })
        $(function () {
          $('[data-toggle="popover"]').popover()
        })
        </script>

    {% endif %}

</body>

</html>
